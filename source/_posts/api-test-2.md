title: 接口调试（中）—— 解决方案构想
date: 2015-09-08 00:29:58
tags:
- 前后端分离
categories: WEB架构
---

## 设想方案：
>缩写：
>前端 - FE（front end）
>本地 - L（local）
>测试 - T（test）
>服务器 - S（server）
>后端 - BE（back end）
>接口 - API（application programming interface）
>开发 - D（development）

<!-- more -->
            
    FE L S <——> FE T S <——> API S <——> BE T S <——> BE L S 
                                        ^
                                        |
                                         ——> BE D S

### （API S）接口服务器说明：

* 由前端主导，前后端在测试服务器上共同编写接口，主要提供接口数据的json定义和文字说明。
* 根据接口文档生成前端调试代码、数据和后端调试代码，分别部署于前端测试服务器和后端测试服务器。
* 如果出现接口修改等情况，重新生成接口文档和调试代码，并部署重启测试服务器

### （FE T S）前端测试服务器说明：

* 为前端提供假数据。
* 它不查询数据库，也不处理复杂的业务逻辑。
* 只根据根定义的接口校验请求路径和参数，同时来返回假数据。当前端参数不符合接口定义时，抛出异常。

### （BE T S）后端测试服务器说明：

* 发送请求给后端本地服务器。后端人员开发完成接口后，通过后端测试服务器操作，手动发送请求进行联调。
* 校验请求返回结果。当返回结果与接口定义不一致时抛出异常。
定时任务测试开发环境接口。确保开发环境的接口跟本地调试接口一致。

### 意义：

* 避免了前后端接口调试的痛苦过程，开发人员只需和自己的测试服务器进行联调即可。在接口配置不变的情况下，与测试服务器的调试成功后，前后端部署代码即可保证与调试结果一致。
* 接口服务器是关键，生成的代码必须保证前后端测试结果一致性，这里考虑用swagger。
* 测试服务器根据技术架构来决定，如jsp的话，前端测试服务器考虑用tomcat服务器，只含接口无业务逻辑。跨域问题用代理服务器解决。后端测试服务器甚至可以省略，只需要java的测试代码就行。

*阅读连接*
[接口调试（上）—— 前后端分离之痛](http://yalishizhude.github.io/2015/09/01/api-test-1/)

- - -
>原文作者：亚里士朱德
>博客网址：http://yalishizhude.github.io